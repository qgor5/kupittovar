<div class="product-summary">
  <img id="product-img" src="https://via.placeholder.com/100" alt="Товар" />
  <div class="product-info">
    <h3 id="product-name">Назва товару</h3>
    <div class="price">Ціна: <span id="price-value">0</span> грн</div>
    <div class="qty-controls">
      <button type="button" id="qty-minus">−</button>
      <input type="number" id="qty" name="qty" min="1" value="1" readonly />
      <button type="button" id="qty-plus">+</button>
    </div>
  </div>
</div>

<script>
  const params = new URLSearchParams(window.location.search);
  const img = params.get('img');
  const name = params.get('name');
  const price = parseFloat(params.get('price')) || 0;
  let qty = parseInt(params.get('qty')) || 1;

  const imgEl = document.getElementById('product-img');
  const nameEl = document.getElementById('product-name');
  const priceEl = document.getElementById('price-value');
  const qtyInput = document.getElementById('qty');
  const minusBtn = document.getElementById('qty-minus');
  const plusBtn = document.getElementById('qty-plus');

  if (img) imgEl.src = decodeURIComponent(img);
  if (name) nameEl.textContent = decodeURIComponent(name);
  qtyInput.value = qty;
  priceEl.textContent = (price * qty).toFixed(2);

  minusBtn.addEventListener('click', () => {
    if (qty > 1) {
      qty--;
      qtyInput.value = qty;
      priceEl.textContent = (price * qty).toFixed(2);
    }
  });

  plusBtn.addEventListener('click', () => {
    qty++;
    qtyInput.value = qty;
    priceEl.textContent = (price * qty).toFixed(2);
  });
</script>
