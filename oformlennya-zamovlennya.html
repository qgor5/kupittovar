<form action="https://formspree.io/f/xblylqvd" method="POST" id="order-form" novalidate>
  <label>
    ПІБ <span style="color:red">*</span><br />
    <input type="text" name="fullname" required placeholder="Ваше повне ім'я" />
  </label>
  <br /><br />

  <label>
    Телефон <span style="color:red">*</span><br />
    <input type="tel" name="phone" required placeholder="+380..." pattern="^\+?\d{7,15}$" />
  </label>
  <br /><br />

  <label>
    Пошта <span style="color:red">*</span><br />
    <select name="delivery" required>
      <option value="" disabled selected>Оберіть поштову службу</option>
      <option value="ukrpost">Укрпошта</option>
      <option value="np">Нова пошта</option>
    </select>
  </label>
  <br /><br />

  <div id="ukrpost-fields" style="display:none;">
    <label>
      Поштовий індекс <span style="color:red">*</span><br />
      <input type="text" name="ukrpost-index" pattern="^\d{5}$" placeholder="Наприклад: 01001" />
    </label>
    <br /><br />
    <label>
      Місто <span style="color:red">*</span><br />
      <input type="text" name="ukrpost-city" placeholder="Наприклад: Київ" />
    </label>
    <br /><br />
    <label>
      Вулиця <span style="color:red">*</span><br />
      <input type="text" name="ukrpost-street" placeholder="Наприклад: Хрещатик, 1" />
    </label>
    <br /><br />
  </div>

  <div id="np-fields" style="display:none;">
    <label>
      Область <span style="color:red">*</span><br />
      <input type="text" name="np-region" placeholder="Наприклад: Київська" />
    </label>
    <br /><br />
    <label>
      Місто <span style="color:red">*</span><br />
      <input type="text" name="np-city" placeholder="Наприклад: Київ" />
    </label>
    <br /><br />
    <label>
      Номер відділення <span style="color:red">*</span><br />
      <input type="text" name="np-branch" placeholder="Наприклад: 45" />
    </label>
    <br /><br />
  </div>

  <label>
    Колір <span style="color:red">*</span><br />
    <select name="color" required>
      <option value="" disabled selected>Оберіть колір</option>
      <option value="коричневий">Коричневий</option>
      <option value="зелений">Зелений</option>
      <option value="червоний">Червоний</option>
      <option value="чорний">Чорний</option>
    </select>
  </label>
  <br /><br />

  <label>
    Коментарі / побажання<br />
    <textarea name="comments" rows="3" placeholder="Ваші побажання до замовлення..."></textarea>
  </label>
  <br /><br />

  <!-- Скрытые поля для товара, можно подставлять через JS -->
  <input type="hidden" name="product-name" value="Кожані ремінці NATO для годинників" />
  <input type="hidden" name="product-image" value="https://i.ibb.co/SR7hzyx/kozhani-remintsi-nato.jpg" />
  <input type="hidden" name="quantity" value="1" />
  <input type="hidden" name="total-price" value="349" />

  <button type="submit">Підтвердити замовлення</button>
</form>

<script>
  // Показать поля в зависимости от выбора доставки
  const deliverySelect = document.querySelector('select[name="delivery"]');
  const ukrpostFields = document.getElementById('ukrpost-fields');
  const npFields = document.getElementById('np-fields');

  deliverySelect.addEventListener('change', () => {
    if (deliverySelect.value === 'ukrpost') {
      ukrpostFields.style.display = 'block';
      npFields.style.display = 'none';

      ukrpostFields.querySelectorAll('input').forEach(i => i.required = true);
      npFields.querySelectorAll('input').forEach(i => i.required = false);
    } else if (deliverySelect.value === 'np') {
      npFields.style.display = 'block';
      ukrpostFields.style.display = 'none';

      npFields.querySelectorAll('input').forEach(i => i.required = true);
      ukrpostFields.querySelectorAll('input').forEach(i => i.required = false);
    } else {
      ukrpostFields.style.display = 'none';
      npFields.style.display = 'none';

      ukrpostFields.querySelectorAll('input').forEach(i => i.required = false);
      npFields.querySelectorAll('input').forEach(i => i.required = false);
    }
  });
</script>
