<script>
  (function () {
    const qtyInput = document.getElementById('quantity');
    const buyLink = document.getElementById('buy-link');
    const productName = 'Air Twins A6 TWS';
    const productImage = 'https://content.rozetka.com.ua/goods/images/big/167184644.jpg';
    const unitPrice = 375;

    function updateBuyLink() {
      const qty = parseInt(qtyInput.value) || 1;
      const baseUrl = '/order.html'; // относительный путь
      const params = new URLSearchParams({
        productName: productName,
        productImage: productImage,
        price: unitPrice.toFixed(2),
        quantity: qty
      });
      buyLink.href = `${baseUrl}?${params.toString()}`;
      buyLink.textContent = `Купити ${qty}`;
    }

    document.getElementById('increase').onclick = () => {
      qtyInput.value = parseInt(qtyInput.value || 1) + 1;
      updateBuyLink();
    };

    document.getElementById('decrease').onclick = () => {
      let val = parseInt(qtyInput.value || 1);
      if (val > 1) qtyInput.value = val - 1;
      updateBuyLink();
    };

    qtyInput.addEventListener('input', updateBuyLink);

    updateBuyLink();
  })();
</script>
